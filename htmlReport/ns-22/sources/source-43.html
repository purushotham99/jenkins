


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > Iterators</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">hudson.util</a>
</div>

<h1>Coverage Summary for Class: Iterators (hudson.util)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Iterators</td>
<td class="coverageStat">
  <span class="percent">
    47.6%
  </span>
  <span class="absValue">
    (10/21)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    53.6%
  </span>
  <span class="absValue">
    (15/28)
  </span>
</td>
</tr>
  <tr>
    <td class="name">Iterators$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Iterators$2</td>
<td class="coverageStat">
  <span class="percent">
    75%
  </span>
  <span class="absValue">
    (3/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    75%
  </span>
  <span class="absValue">
    (3/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Iterators$3</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (3/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    80%
  </span>
  <span class="absValue">
    (4/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Iterators$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Iterators$5</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Iterators$6</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Iterators$7</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Iterators$8</td>
<td class="coverageStat">
  <span class="percent">
    80%
  </span>
  <span class="absValue">
    (4/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    93.8%
  </span>
  <span class="absValue">
    (15/16)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Iterators$CountingPredicate</td>
  </tr>
  <tr>
    <td class="name">Iterators$DuplicateFilterIterator</td>
<td class="coverageStat">
  <span class="percent">
    66.7%
  </span>
  <span class="absValue">
    (2/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    75%
  </span>
  <span class="absValue">
    (3/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Iterators$FilterIterator</td>
<td class="coverageStat">
  <span class="percent">
    66.7%
  </span>
  <span class="absValue">
    (4/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    87.5%
  </span>
  <span class="absValue">
    (14/16)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Iterators$FlattenIterator</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/12)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    45.9%
  </span>
  <span class="absValue">
    (28/61)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    56%
  </span>
  <span class="absValue">
    (56/100)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * The MIT License
&nbsp; *
&nbsp; * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi
&nbsp; *
&nbsp; * Permission is hereby granted, free of charge, to any person obtaining a copy
&nbsp; * of this software and associated documentation files (the &quot;Software&quot;), to deal
&nbsp; * in the Software without restriction, including without limitation the rights
&nbsp; * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
&nbsp; * copies of the Software, and to permit persons to whom the Software is
&nbsp; * furnished to do so, subject to the following conditions:
&nbsp; *
&nbsp; * The above copyright notice and this permission notice shall be included in
&nbsp; * all copies or substantial portions of the Software.
&nbsp; *
&nbsp; * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
&nbsp; * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
&nbsp; * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
&nbsp; * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
&nbsp; * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
&nbsp; * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
&nbsp; * THE SOFTWARE.
&nbsp; */
&nbsp;
&nbsp;package hudson.util;
&nbsp;
&nbsp;import com.google.common.collect.ImmutableList;
&nbsp;import edu.umd.cs.findbugs.annotations.NonNull;
&nbsp;import java.util.AbstractList;
&nbsp;import java.util.Collections;
&nbsp;import java.util.HashSet;
&nbsp;import java.util.Iterator;
&nbsp;import java.util.List;
&nbsp;import java.util.ListIterator;
&nbsp;import java.util.NoSuchElementException;
&nbsp;import java.util.Objects;
&nbsp;import java.util.Set;
&nbsp;import org.kohsuke.accmod.Restricted;
&nbsp;import org.kohsuke.accmod.restrictions.NoExternalUse;
&nbsp;
&nbsp;/**
&nbsp; * Varios {@link Iterator} implementations.
&nbsp; *
&nbsp; * @author Kohsuke Kawaguchi
&nbsp; * @see AdaptedIterator
&nbsp; */
<b class="nc">&nbsp;public class Iterators {</b>
&nbsp;    /**
&nbsp;     * Returns the empty iterator.
&nbsp;     */
&nbsp;    public static &lt;T&gt; Iterator&lt;T&gt; empty() {
<b class="nc">&nbsp;        return Collections.emptyIterator();</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Produces {A,B,C,D,E,F} from {{A,B},{C},{},{D,E,F}}.
&nbsp;     */
&nbsp;    public abstract static class FlattenIterator&lt;U, T&gt; implements Iterator&lt;U&gt; {
&nbsp;        private final Iterator&lt;? extends T&gt; core;
&nbsp;        private Iterator&lt;U&gt; cur;
&nbsp;
<b class="nc">&nbsp;        protected FlattenIterator(Iterator&lt;? extends T&gt; core) {</b>
<b class="nc">&nbsp;            this.core = core;</b>
<b class="nc">&nbsp;            cur = Collections.emptyIterator();</b>
&nbsp;        }
&nbsp;
&nbsp;        protected FlattenIterator(Iterable&lt;? extends T&gt; core) {
<b class="nc">&nbsp;            this(core.iterator());</b>
&nbsp;        }
&nbsp;
&nbsp;        protected abstract Iterator&lt;U&gt; expand(T t);
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean hasNext() {
<b class="nc">&nbsp;            while (!cur.hasNext()) {</b>
<b class="nc">&nbsp;                if (!core.hasNext())</b>
<b class="nc">&nbsp;                    return false;</b>
<b class="nc">&nbsp;                cur = expand(core.next());</b>
&nbsp;            }
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public U next() {
<b class="nc">&nbsp;            if (!hasNext())  throw new NoSuchElementException();</b>
<b class="nc">&nbsp;            return cur.next();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void remove() {
<b class="nc">&nbsp;            throw new UnsupportedOperationException();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Creates a filtered view of another iterator.
&nbsp;     *
&nbsp;     * @since 1.150
&nbsp;     */
&nbsp;    public abstract static class FilterIterator&lt;T&gt; implements Iterator&lt;T&gt; {
&nbsp;        private final Iterator&lt;? extends T&gt; core;
&nbsp;        private T next;
&nbsp;        private boolean fetched;
&nbsp;
<b class="fc">&nbsp;        protected FilterIterator(Iterator&lt;? extends T&gt; core) {</b>
<b class="fc">&nbsp;            this.core = core;</b>
&nbsp;        }
&nbsp;
&nbsp;        protected FilterIterator(Iterable&lt;? extends T&gt; core) {
<b class="nc">&nbsp;            this(core.iterator());</b>
&nbsp;        }
&nbsp;
&nbsp;        private void fetch() {
<b class="fc">&nbsp;            while (!fetched &amp;&amp; core.hasNext()) {</b>
<b class="fc">&nbsp;                T n = core.next();</b>
<b class="fc">&nbsp;                if (filter(n)) {</b>
<b class="fc">&nbsp;                    next = n;</b>
<b class="fc">&nbsp;                    fetched = true;</b>
&nbsp;                }
<b class="fc">&nbsp;            }</b>
&nbsp;        }
&nbsp;
&nbsp;        /**
&nbsp;         * Filter out items in the original collection.
&nbsp;         *
&nbsp;         * @return
&nbsp;         *      true to leave this item and return this item from this iterator.
&nbsp;         *      false to hide this item.
&nbsp;         */
&nbsp;        protected abstract boolean filter(T t);
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean hasNext() {
<b class="fc">&nbsp;            fetch();</b>
<b class="fc">&nbsp;            return fetched;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public T next() {
<b class="fc">&nbsp;            fetch();</b>
<b class="fc">&nbsp;            if (!fetched)  throw new NoSuchElementException();</b>
<b class="fc">&nbsp;            fetched = false;</b>
<b class="fc">&nbsp;            return next;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void remove() {
<b class="nc">&nbsp;            core.remove();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Remove duplicates from another iterator.
&nbsp;     */
&nbsp;    public static final class DuplicateFilterIterator&lt;T&gt; extends FilterIterator&lt;T&gt; {
<b class="fc">&nbsp;        private final Set&lt;T&gt; seen = new HashSet&lt;&gt;();</b>
&nbsp;
&nbsp;        public DuplicateFilterIterator(Iterator&lt;? extends T&gt; core) {
<b class="fc">&nbsp;            super(core);</b>
&nbsp;        }
&nbsp;
&nbsp;        public DuplicateFilterIterator(Iterable&lt;? extends T&gt; core) {
<b class="nc">&nbsp;            super(core);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        protected boolean filter(T t) {
<b class="fc">&nbsp;            return seen.add(t);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the {@link Iterable} that lists items in the reverse order.
&nbsp;     *
&nbsp;     * @since 1.150
&nbsp;     */
&nbsp;    public static &lt;T&gt; Iterable&lt;T&gt; reverse(final List&lt;T&gt; lst) {
<b class="nc">&nbsp;        return () -&gt; {</b>
<b class="nc">&nbsp;            final ListIterator&lt;T&gt; itr = lst.listIterator(lst.size());</b>
<b class="nc">&nbsp;            return new Iterator&lt;&gt;() {</b>
&nbsp;                @Override
&nbsp;                public boolean hasNext() {
<b class="nc">&nbsp;                    return itr.hasPrevious();</b>
&nbsp;                }
&nbsp;
&nbsp;                @Override
&nbsp;                public T next() {
<b class="nc">&nbsp;                    return itr.previous();</b>
&nbsp;                }
&nbsp;
&nbsp;                @Override
&nbsp;                public void remove() {
<b class="nc">&nbsp;                    itr.remove();</b>
&nbsp;                }
&nbsp;            };
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns an {@link Iterable} that lists items in the normal order
&nbsp;     * but which hides the base iterator implementation details.
&nbsp;     *
&nbsp;     * @since 1.492
&nbsp;     */
&nbsp;    public static &lt;T&gt; Iterable&lt;T&gt; wrap(final Iterable&lt;T&gt; base) {
<b class="fc">&nbsp;        return () -&gt; {</b>
<b class="fc">&nbsp;            final Iterator&lt;T&gt; itr = base.iterator();</b>
<b class="fc">&nbsp;            return new Iterator&lt;&gt;() {</b>
&nbsp;                @Override
&nbsp;                public boolean hasNext() {
<b class="fc">&nbsp;                    return itr.hasNext();</b>
&nbsp;                }
&nbsp;
&nbsp;                @Override
&nbsp;                public T next() {
<b class="fc">&nbsp;                    return itr.next();</b>
&nbsp;                }
&nbsp;
&nbsp;                @Override
&nbsp;                public void remove() {
<b class="nc">&nbsp;                    itr.remove();</b>
&nbsp;                }
&nbsp;            };
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns a list that represents [start,end).
&nbsp;     *
&nbsp;     * For example sequence(1,5,1)={1,2,3,4}, and sequence(7,1,-2)={7.5,3}
&nbsp;     *
&nbsp;     * @since 1.150
&nbsp;     */
&nbsp;    public static List&lt;Integer&gt; sequence(final int start, int end, final int step) {
&nbsp;
<b class="fc">&nbsp;        final int size = (end - start) / step;</b>
<b class="fc">&nbsp;        if (size &lt; 0)  throw new IllegalArgumentException(&quot;List size is negative&quot;);</b>
&nbsp;
<b class="fc">&nbsp;        return new AbstractList&lt;&gt;() {</b>
&nbsp;            @Override
&nbsp;            public Integer get(int index) {
<b class="fc">&nbsp;                if (index &lt; 0 || index &gt;= size)</b>
<b class="nc">&nbsp;                    throw new IndexOutOfBoundsException();</b>
<b class="fc">&nbsp;                return start + index * step;</b>
&nbsp;            }
&nbsp;
&nbsp;            @Override
&nbsp;            public int size() {
<b class="fc">&nbsp;                return size;</b>
&nbsp;            }
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    public static List&lt;Integer&gt; sequence(int start, int end) {
<b class="fc">&nbsp;        return sequence(start, end, 1);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * The short cut for {@code reverse(sequence(start,end,step))}.
&nbsp;     *
&nbsp;     * @since 1.150
&nbsp;     */
&nbsp;    public static List&lt;Integer&gt; reverseSequence(int start, int end, int step) {
<b class="fc">&nbsp;        return sequence(end - 1, start - 1, -step);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static List&lt;Integer&gt; reverseSequence(int start, int end) {
<b class="fc">&nbsp;        return reverseSequence(start, end, 1);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Casts {@link Iterator} by taking advantage of its covariant-ness.
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;unchecked&quot;)
&nbsp;    public static &lt;T&gt; Iterator&lt;T&gt; cast(Iterator&lt;? extends T&gt; itr) {
<b class="nc">&nbsp;        return (Iterator) itr;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Casts {@link Iterable} by taking advantage of its covariant-ness.
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;unchecked&quot;)
&nbsp;    public static &lt;T&gt; Iterable&lt;T&gt; cast(Iterable&lt;? extends T&gt; itr) {
<b class="nc">&nbsp;        return (Iterable) itr;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns an {@link Iterator} that only returns items of the given subtype.
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;unchecked&quot;)
&nbsp;    public static &lt;U, T extends U&gt; Iterator&lt;T&gt; subType(Iterator&lt;U&gt; itr, final Class&lt;T&gt; type) {
<b class="nc">&nbsp;        return (Iterator) new FilterIterator&lt;&gt;(itr) {</b>
&nbsp;            @Override
&nbsp;            protected boolean filter(U u) {
<b class="nc">&nbsp;                return type.isInstance(u);</b>
&nbsp;            }
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Creates a read-only mutator that disallows {@link Iterator#remove()}.
&nbsp;     */
&nbsp;    public static &lt;T&gt; Iterator&lt;T&gt; readOnly(final Iterator&lt;T&gt; itr) {
<b class="fc">&nbsp;        return new Iterator&lt;&gt;() {</b>
&nbsp;            @Override
&nbsp;            public boolean hasNext() {
<b class="fc">&nbsp;                return itr.hasNext();</b>
&nbsp;            }
&nbsp;
&nbsp;            @Override
&nbsp;            public T next() {
<b class="nc">&nbsp;                return itr.next();</b>
&nbsp;            }
&nbsp;
&nbsp;            @Override
&nbsp;            public void remove() {
<b class="nc">&nbsp;                throw new UnsupportedOperationException();</b>
&nbsp;            }
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Wraps another iterator and throws away nulls.
&nbsp;     */
&nbsp;    public static &lt;T&gt; Iterator&lt;T&gt; removeNull(final Iterator&lt;T&gt; itr) {
<b class="fc">&nbsp;        return com.google.common.collect.Iterators.filter(itr, Objects::nonNull);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns an {@link Iterable} that iterates over all the given {@link Iterable}s.
&nbsp;     *
&nbsp;     * &lt;p&gt;
&nbsp;     * That is, this creates {A,B,C,D} from {A,B},{C,D}.
&nbsp;     */
&nbsp;    @SafeVarargs
&nbsp;    public static &lt;T&gt; Iterable&lt;T&gt; sequence(final Iterable&lt;? extends T&gt;... iterables) {
<b class="nc">&nbsp;        return () -&gt; new FlattenIterator&lt;&gt;(ImmutableList.copyOf(iterables)) {</b>
&nbsp;            @Override
&nbsp;            protected Iterator&lt;T&gt; expand(Iterable&lt;? extends T&gt; iterable) {
<b class="nc">&nbsp;                return Iterators.&lt;T&gt;cast(iterable).iterator();</b>
&nbsp;            }
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Filters another iterator by eliminating duplicates.
&nbsp;     */
&nbsp;    public static &lt;T&gt; Iterator&lt;T&gt; removeDups(Iterator&lt;T&gt; iterator) {
<b class="nc">&nbsp;        return new FilterIterator&lt;&gt;(iterator) {</b>
<b class="nc">&nbsp;            final Set&lt;T&gt; found = new HashSet&lt;&gt;();</b>
&nbsp;
&nbsp;            @Override
&nbsp;            protected boolean filter(T t) {
<b class="nc">&nbsp;                return found.add(t);</b>
&nbsp;            }
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Filters another iterator by eliminating duplicates.
&nbsp;     */
&nbsp;    public static &lt;T&gt; Iterable&lt;T&gt; removeDups(final Iterable&lt;T&gt; base) {
<b class="nc">&nbsp;        return () -&gt; removeDups(base.iterator());</b>
&nbsp;    }
&nbsp;
&nbsp;    @SafeVarargs
&nbsp;    public static &lt;T&gt; Iterator&lt;T&gt; sequence(Iterator&lt;? extends T&gt;... iterators) {
<b class="nc">&nbsp;        return com.google.common.collect.Iterators.concat(iterators);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the elements in the base iterator until it hits any element that doesn&#39;t satisfy the filter.
&nbsp;     * Then the rest of the elements in the base iterator gets ignored.
&nbsp;     *
&nbsp;     * @since 1.485
&nbsp;     */
&nbsp;    public static &lt;T&gt; Iterator&lt;T&gt; limit(final Iterator&lt;? extends T&gt; base, final CountingPredicate&lt;? super T&gt; filter) {
<b class="fc">&nbsp;        return new Iterator&lt;&gt;() {</b>
&nbsp;            private T next;
&nbsp;            private boolean end;
<b class="fc">&nbsp;            private int index = 0;</b>
&nbsp;            @Override
&nbsp;            public boolean hasNext() {
<b class="fc">&nbsp;                fetch();</b>
<b class="fc">&nbsp;                return next != null;</b>
&nbsp;            }
&nbsp;
&nbsp;            @Override
&nbsp;            public T next() {
<b class="fc">&nbsp;                fetch();</b>
<b class="fc">&nbsp;                T r = next;</b>
<b class="fc">&nbsp;                next = null;</b>
<b class="fc">&nbsp;                return r;</b>
&nbsp;            }
&nbsp;
&nbsp;            private void fetch() {
<b class="fc">&nbsp;                if (next == null &amp;&amp; !end) {</b>
<b class="fc">&nbsp;                    if (base.hasNext()) {</b>
<b class="fc">&nbsp;                        next = base.next();</b>
<b class="fc">&nbsp;                        if (!filter.apply(index++, next)) {</b>
<b class="fc">&nbsp;                            next = null;</b>
<b class="fc">&nbsp;                            end = true;</b>
&nbsp;                        }
&nbsp;                    } else {
<b class="fc">&nbsp;                        end = true;</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;
&nbsp;            @Override
&nbsp;            public void remove() {
<b class="nc">&nbsp;                throw new UnsupportedOperationException();</b>
&nbsp;            }
&nbsp;        };
&nbsp;    }
&nbsp;
&nbsp;    public interface CountingPredicate&lt;T&gt; {
&nbsp;        boolean apply(int index, T input);
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Calls {@code next()} on {@code iterator}, either {@code count} times
&nbsp;     * or until {@code hasNext()} returns {@code false}, whichever comes first.
&nbsp;     *
&nbsp;     * @param iterator some iterator
&nbsp;     * @param count a nonnegative count
&nbsp;     */
&nbsp;    @Restricted(NoExternalUse.class)
&nbsp;    public static void skip(@NonNull Iterator&lt;?&gt; iterator, int count) {
<b class="fc">&nbsp;        if (count &lt; 0) {</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException();</b>
&nbsp;        }
<b class="fc">&nbsp;        while (iterator.hasNext() &amp;&amp; count-- &gt; 0) {</b>
<b class="fc">&nbsp;            iterator.next();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-02-28 17:37</div>
</div>
</body>
</html>
