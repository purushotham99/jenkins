


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > InstallState</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">jenkins.install</a>
</div>

<h1>Coverage Summary for Class: InstallState (jenkins.install)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">InstallState</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/12)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/41)
  </span>
</td>
</tr>
  <tr>
    <td class="name">InstallState$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$5</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$6</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$ConfigureInstance</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$CreateAdminUser</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$Downgrade</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$InitialSecuritySetup</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$InitialSetupCompleted</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$Restart</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$Unknown</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">InstallState$Upgrade</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/35)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/83)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * The MIT License
&nbsp; *
&nbsp; * Copyright (c) 2015, CloudBees, Inc.
&nbsp; *
&nbsp; * Permission is hereby granted, free of charge, to any person obtaining a copy
&nbsp; * of this software and associated documentation files (the &quot;Software&quot;), to deal
&nbsp; * in the Software without restriction, including without limitation the rights
&nbsp; * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
&nbsp; * copies of the Software, and to permit persons to whom the Software is
&nbsp; * furnished to do so, subject to the following conditions:
&nbsp; *
&nbsp; * The above copyright notice and this permission notice shall be included in
&nbsp; * all copies or substantial portions of the Software.
&nbsp; *
&nbsp; * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
&nbsp; * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
&nbsp; * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
&nbsp; * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
&nbsp; * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
&nbsp; * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
&nbsp; * THE SOFTWARE.
&nbsp; */
&nbsp;
&nbsp;package jenkins.install;
&nbsp;
&nbsp;import edu.umd.cs.findbugs.annotations.CheckForNull;
&nbsp;import edu.umd.cs.findbugs.annotations.NonNull;
&nbsp;import hudson.Extension;
&nbsp;import hudson.ExtensionList;
&nbsp;import hudson.ExtensionPoint;
&nbsp;import hudson.model.UpdateCenter;
&nbsp;import java.util.logging.Level;
&nbsp;import java.util.logging.Logger;
&nbsp;import jenkins.model.Jenkins;
&nbsp;import jenkins.model.JenkinsLocationConfiguration;
&nbsp;import jenkins.security.apitoken.ApiTokenPropertyConfiguration;
&nbsp;import jenkins.security.stapler.StaplerAccessibleType;
&nbsp;import jenkins.util.Timer;
&nbsp;import org.apache.commons.lang.StringUtils;
&nbsp;
&nbsp;/**
&nbsp; * Jenkins install state.
&nbsp; *
&nbsp; * In order to hook into the setup wizard lifecycle, you should
&nbsp; * include something in a script that call
&nbsp; * to {@code onSetupWizardInitialized} with a callback
&nbsp; *
&nbsp; * @author &lt;a href=&quot;mailto:tom.fennelly@gmail.com&quot;&gt;tom.fennelly@gmail.com&lt;/a&gt;
&nbsp; */
&nbsp;@StaplerAccessibleType
&nbsp;public class InstallState implements ExtensionPoint {
&nbsp;
&nbsp;    /**
&nbsp;     * Only here for XStream compatibility. &lt;p&gt;
&nbsp;     *
&nbsp;     * Please DO NOT ADD ITEM TO THIS LIST. &lt;p&gt;
&nbsp;     * If you add an item here, the deserialization process will break
&nbsp;     * because it is used for serialized state like &quot;jenkins.install.InstallState$4&quot;
&nbsp;     * before the change from anonymous class to named class. If you need to add a new InstallState, you can just add a new inner named class but nothing to change in this list.
&nbsp;     *
&nbsp;     * @deprecated see {@link #readResolve()}
&nbsp;     */
&nbsp;    @Deprecated
&nbsp;    @SuppressWarnings(&quot;MismatchedReadAndWriteOfArray&quot;)
<b class="nc">&nbsp;    private static final InstallState[] UNUSED_INNER_CLASSES = {</b>
<b class="nc">&nbsp;        new InstallState(&quot;UNKNOWN&quot;, false) {},</b>
<b class="nc">&nbsp;        new InstallState(&quot;INITIAL_SETUP_COMPLETED&quot;, false) {},</b>
<b class="nc">&nbsp;        new InstallState(&quot;CREATE_ADMIN_USER&quot;, false) {},</b>
<b class="nc">&nbsp;        new InstallState(&quot;INITIAL_SECURITY_SETUP&quot;, false) {},</b>
<b class="nc">&nbsp;        new InstallState(&quot;RESTART&quot;, false) {},</b>
<b class="nc">&nbsp;        new InstallState(&quot;DOWNGRADE&quot;, false) {},</b>
&nbsp;    };
&nbsp;
&nbsp;    /**
&nbsp;     * Need InstallState != NEW for tests by default
&nbsp;     */
&nbsp;    @Extension
<b class="nc">&nbsp;    public static final InstallState UNKNOWN = new Unknown();</b>
&nbsp;
&nbsp;    private static class Unknown extends InstallState {
&nbsp;        Unknown() {
<b class="nc">&nbsp;            super(&quot;UNKNOWN&quot;, true);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void initializeState() {
<b class="nc">&nbsp;            InstallUtil.proceedToNextStateFrom(this);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * After any setup / restart / etc. hooks are done, states should be running
&nbsp;     */
&nbsp;    @Extension
<b class="nc">&nbsp;    public static final InstallState RUNNING = new InstallState(&quot;RUNNING&quot;, true);</b>
&nbsp;
&nbsp;    /**
&nbsp;     * The initial set up has been completed
&nbsp;     */
&nbsp;    @Extension
<b class="nc">&nbsp;    public static final InstallState INITIAL_SETUP_COMPLETED = new InitialSetupCompleted();</b>
&nbsp;
&nbsp;    private static final class InitialSetupCompleted extends InstallState {
&nbsp;        InitialSetupCompleted() {
<b class="nc">&nbsp;            super(&quot;INITIAL_SETUP_COMPLETED&quot;, true);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void initializeState() {
<b class="nc">&nbsp;            Jenkins j = Jenkins.get();</b>
&nbsp;            try {
<b class="nc">&nbsp;                j.getSetupWizard().completeSetup();</b>
<b class="nc">&nbsp;            } catch (Exception e) {</b>
<b class="nc">&nbsp;                throw new RuntimeException(e);</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            j.setInstallState(RUNNING);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Creating an admin user for an initial Jenkins install.
&nbsp;     */
&nbsp;    @Extension
<b class="nc">&nbsp;    public static final InstallState CREATE_ADMIN_USER = new CreateAdminUser();</b>
&nbsp;
&nbsp;    private static final class CreateAdminUser extends InstallState {
&nbsp;        CreateAdminUser() {
<b class="nc">&nbsp;            super(&quot;CREATE_ADMIN_USER&quot;, false);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void initializeState() {
<b class="nc">&nbsp;            Jenkins j = Jenkins.get();</b>
&nbsp;            // Skip this state if not using the security defaults
&nbsp;            // e.g. in an init script set up security already
<b class="nc">&nbsp;            if (!j.getSetupWizard().isUsingSecurityDefaults()) {</b>
<b class="nc">&nbsp;                InstallUtil.proceedToNextStateFrom(this);</b>
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Extension
<b class="nc">&nbsp;    public static final InstallState CONFIGURE_INSTANCE = new ConfigureInstance();</b>
&nbsp;
&nbsp;    private static final class ConfigureInstance extends InstallState {
&nbsp;        ConfigureInstance() {
<b class="nc">&nbsp;            super(&quot;CONFIGURE_INSTANCE&quot;, false);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void initializeState() {
&nbsp;            // Skip this state if a boot script already configured the root URL
&nbsp;            // in case we add more fields in this page, this should be adapted
<b class="nc">&nbsp;            if (StringUtils.isNotBlank(JenkinsLocationConfiguration.getOrDie().getUrl())) {</b>
<b class="nc">&nbsp;                InstallUtil.proceedToNextStateFrom(this);</b>
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * New Jenkins install. The user has kicked off the process of installing an
&nbsp;     * initial set of plugins (via the install wizard).
&nbsp;     */
&nbsp;    @Extension
<b class="nc">&nbsp;    public static final InstallState INITIAL_PLUGINS_INSTALLING = new InstallState(&quot;INITIAL_PLUGINS_INSTALLING&quot;, false);</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Security setup for a new Jenkins install.
&nbsp;     */
&nbsp;    @Extension
<b class="nc">&nbsp;    public static final InstallState INITIAL_SECURITY_SETUP = new InitialSecuritySetup();</b>
&nbsp;
&nbsp;    private static final class InitialSecuritySetup extends InstallState {
&nbsp;        InitialSecuritySetup() {
<b class="nc">&nbsp;            super(&quot;INITIAL_SECURITY_SETUP&quot;, false);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void initializeState() {
&nbsp;            try {
<b class="nc">&nbsp;                Jenkins.get().getSetupWizard().init(true);</b>
<b class="nc">&nbsp;            } catch (Exception e) {</b>
<b class="nc">&nbsp;                throw new RuntimeException(e);</b>
<b class="nc">&nbsp;            }</b>
&nbsp;
<b class="nc">&nbsp;            InstallUtil.proceedToNextStateFrom(INITIAL_SECURITY_SETUP);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * New Jenkins install.
&nbsp;     */
&nbsp;    @Extension
<b class="nc">&nbsp;    public static final InstallState NEW = new InstallState(&quot;NEW&quot;, false);</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Restart of an existing Jenkins install.
&nbsp;     */
&nbsp;    @Extension
<b class="nc">&nbsp;    public static final InstallState RESTART = new Restart();</b>
&nbsp;
&nbsp;    private static final class Restart extends InstallState {
&nbsp;        Restart() {
<b class="nc">&nbsp;            super(&quot;RESTART&quot;, true);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void initializeState() {
<b class="nc">&nbsp;            InstallUtil.saveLastExecVersion();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Upgrade of an existing Jenkins install.
&nbsp;     */
&nbsp;    @Extension
<b class="nc">&nbsp;    public static final InstallState UPGRADE = new Upgrade();</b>
&nbsp;
&nbsp;    private static final class Upgrade extends InstallState {
&nbsp;
&nbsp;        Upgrade() {
<b class="nc">&nbsp;            super(&quot;UPGRADE&quot;, true);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void initializeState() {
<b class="nc">&nbsp;            applyForcedChanges();</b>
&nbsp;
&nbsp;            // Schedule an update of the update center after a Jenkins upgrade
<b class="nc">&nbsp;            reloadUpdateSiteData();</b>
&nbsp;
<b class="nc">&nbsp;            InstallUtil.saveLastExecVersion();</b>
&nbsp;        }
&nbsp;
&nbsp;        /**
&nbsp;         * Put here the different changes that are enforced after an update.
&nbsp;         */
&nbsp;        private void applyForcedChanges() {
&nbsp;            // Disable the legacy system of API Token only if the new system was not installed
&nbsp;            // in such case it means there was already an upgrade before
&nbsp;            // and potentially the admin has re-enabled the features
<b class="nc">&nbsp;            ApiTokenPropertyConfiguration apiTokenPropertyConfiguration = ApiTokenPropertyConfiguration.get();</b>
<b class="nc">&nbsp;            if (!apiTokenPropertyConfiguration.hasExistingConfigFile()) {</b>
<b class="nc">&nbsp;                LOGGER.log(Level.INFO, &quot;New API token system configured with insecure options to keep legacy behavior&quot;);</b>
<b class="nc">&nbsp;                apiTokenPropertyConfiguration.setCreationOfLegacyTokenEnabled(false);</b>
<b class="nc">&nbsp;                apiTokenPropertyConfiguration.setTokenGenerationOnCreationEnabled(false);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    private static void reloadUpdateSiteData() {
<b class="nc">&nbsp;        Timer.get().submit(UpdateCenter::updateAllSitesNow);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Downgrade of an existing Jenkins install.
&nbsp;     */
&nbsp;    @Extension
<b class="nc">&nbsp;    public static final InstallState DOWNGRADE = new Downgrade();</b>
&nbsp;
&nbsp;    private static final class Downgrade extends InstallState {
&nbsp;        Downgrade() {
<b class="nc">&nbsp;            super(&quot;DOWNGRADE&quot;, true);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void initializeState() {
&nbsp;            // Schedule an update of the update center after a Jenkins downgrade
<b class="nc">&nbsp;            reloadUpdateSiteData();</b>
&nbsp;
<b class="nc">&nbsp;            InstallUtil.saveLastExecVersion();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    private static final Logger LOGGER = Logger.getLogger(InstallState.class.getName());</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Jenkins started in test mode (JenkinsRule).
&nbsp;     */
<b class="nc">&nbsp;    public static final InstallState TEST = new InstallState(&quot;TEST&quot;, true);</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Jenkins started in development mode: Boolean.getBoolean(&quot;hudson.Main.development&quot;).
&nbsp;     * Can be run normally with the -Djenkins.install.runSetupWizard=true
&nbsp;     */
<b class="nc">&nbsp;    public static final InstallState DEVELOPMENT = new InstallState(&quot;DEVELOPMENT&quot;, true);</b>
&nbsp;
&nbsp;    private final transient boolean isSetupComplete;
&nbsp;
&nbsp;    /**
&nbsp;     * Link with the pluginSetupWizardGui.js map: &quot;statsHandlers&quot;
&nbsp;     */
&nbsp;    private final String name;
&nbsp;
<b class="nc">&nbsp;    public InstallState(@NonNull String name, boolean isSetupComplete) {</b>
<b class="nc">&nbsp;        this.name = name;</b>
<b class="nc">&nbsp;        this.isSetupComplete = isSetupComplete;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Process any initialization this install state requires
&nbsp;     */
&nbsp;    public void initializeState() {
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * The actual class name is irrelevant; this is functionally an enum.
&nbsp;     * &lt;p&gt;Creating a {@code writeReplace} does not help much since XStream then just saves:
&nbsp;     * {@code &lt;installState class=&quot;jenkins.install.InstallState$CreateAdminUser&quot; resolves-to=&quot;jenkins.install.InstallState&quot;&gt;}
&nbsp;     * @see #UNUSED_INNER_CLASSES
&nbsp;     * @deprecated Should no longer be used, as {@link Jenkins} now saves only {@link #name}.
&nbsp;     */
&nbsp;    @Deprecated
&nbsp;    protected Object readResolve() {
&nbsp;        // If we get invalid state from the configuration, fallback to unknown
<b class="nc">&nbsp;        if (StringUtils.isBlank(name)) {</b>
<b class="nc">&nbsp;            LOGGER.log(Level.WARNING, &quot;Read install state with blank name: &#39;&#39;{0}&#39;&#39;. It will be ignored&quot;, name);</b>
<b class="nc">&nbsp;            return UNKNOWN;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        InstallState state = InstallState.valueOf(name);</b>
<b class="nc">&nbsp;        if (state == null) {</b>
<b class="nc">&nbsp;            LOGGER.log(Level.WARNING, &quot;Cannot locate an extension point for the state &#39;&#39;{0}&#39;&#39;. It will be ignored&quot;, name);</b>
<b class="nc">&nbsp;            return UNKNOWN;</b>
&nbsp;        }
&nbsp;
&nbsp;        // Otherwise we return the actual state
<b class="nc">&nbsp;        return state;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Indicates the initial setup is complete
&nbsp;     */
&nbsp;    public boolean isSetupComplete() {
<b class="nc">&nbsp;        return isSetupComplete;</b>
&nbsp;    }
&nbsp;
&nbsp;    public String name() {
<b class="nc">&nbsp;        return name;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public int hashCode() {
<b class="nc">&nbsp;        return name.hashCode();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean equals(Object obj) {
<b class="nc">&nbsp;        if (obj instanceof InstallState) {</b>
<b class="nc">&nbsp;            return name.equals(((InstallState) obj).name());</b>
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String toString() {
<b class="nc">&nbsp;        return &quot;InstallState (&quot; + name + &quot;)&quot;;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Find an install state by name
&nbsp;     */
&nbsp;    @CheckForNull
&nbsp;    public static InstallState valueOf(@NonNull String name) {
<b class="nc">&nbsp;        for (InstallState state : all()) {</b>
<b class="nc">&nbsp;            if (name.equals(state.name)) {</b>
<b class="nc">&nbsp;                return state;</b>
&nbsp;            }
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        return null;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns all install states in the system
&nbsp;     */
&nbsp;    static ExtensionList&lt;InstallState&gt; all() {
<b class="nc">&nbsp;        return ExtensionList.lookup(InstallState.class);</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-02-28 17:37</div>
</div>
</body>
</html>
